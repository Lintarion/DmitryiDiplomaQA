# План автоматизация тестирования комплексного сервиса, взаимодействующего с СУБД и API Банка
========================
## Перечень автоматизируемых сценариев:
------------------------
### **Позитивные сценарии:**
1. Покупка по одобренной дебетовой карте (Статус "Approved"): 
* Ввод номера 4444 4444 4444 4441 в поле Номер карты 
* Остальные поля заполнить валидными значениями
* Клик по кнопке *Продолжить*

Ожидаемый результат:
* Появляется всплывающее окно "Операция одобрена Банком"
* В БД в payment_entity появляется запись со статусом APPROVED

2. Покупка по одобренной кредитной карте (Статус "Approved") :
*Ввод номера 4444 4444 4444 4441 в поле Номер карты 
* Остальные поля заполнить валидными значениями
* Клик по кнопке *Продолжить*

Ожидаемый результат:
*  Появляется всплывающее окно "Операция одобрена Банком"
*  В БД в credit_request_entity появиляется запись со статусом APPROVED //credit_request_entity -?

3. Покупка по отклоненной дебетовой карте (Статус "Declined"): 
* Ввод номера 4444 4444 4444 4442 в поле Номер карты 
* Остальные поля заполнить валидными значениями
* Клик по кнопке *Продолжить*

Ожидаемый результат:
*  Появляется всплывающее окно "Ошибка! Банк отказал в проведении операции"
* В БД в payment_entity появиляется запись со статусом DECLINED

4. Покупка по отклоненной кредитной карте (Статус "Declined"): 
* Ввод номера 4444 4444 4444 4442 в поле Номер карты 
* Остальные поля заполнить валидными значениями
* Клик по кнопке *Продолжить*

Ожидаемый результат:
*  Появляется всплывающее окно "Ошибка! Банк отказал в проведении операции"
*  В БД в credit_request_entity появиляется запись со статусом DECLINED

### **Негативные сценарии:**

5. Покупка по дебитовой карте с невалидным номером
* Ввод номера 1111 1111 1111 1111 в поле Номер карты 
* Остальные поля заполнить корректными значениями
* Клик по кнопке *Продолжить*

Ожидаемый результат:
* Повляется всплывающее окно "Ошибка! Банк отказал в проведении операции"
* В БД в payment_entity не появляется новая запись

6. Покупка по кредитной карте с невалидный номером
* Ввод номера 1111 1111 1111 1111 в поле Номер карты 
* Остальные поля заполнить корректными значениями
* Клик по кнопке *Продолжить*

Ожидаемый результат:
* Повляется всплывающее окно "Ошибка! Банк отказал в проведении операции"
* в БД в credit_request_entity не появляется новая запись

7. Покупка по дебетовой карте с неполным номером
* Ввести номер 1111 1111 1111 111 в поле Номер карты
* Остальные поля заполнить корректными значениями
*  Клик по кнопке *Продолжить*

Ожидаемый результат: 

* Появляется сообщение "Неверный формат"
* В БД в payment_entity не появляется новая запись

8. Покупка по кредитной карте с неполным номером
* Ввести номер 1111 1111 1111 111 в поле Номер карты
* Остальные поля заполнить корректными значениями
*  Клик по кнопке *Продолжить*

Ожидаемый результат: 

* Появляется сообщение "Неверный формат"
* В БД в БД в credit_request_entity не появляется новая запись

9. Покупка по дебетовой карте с указанием невалидного месяца
* Ввод номера 4444 4444 4444 4441 в поле Номер карты
* Ввод в поле Месяц 13
* Остальные поля заполненить корректными значениями
*   Клик по кнопке *Продолжить*

Ожидаемый результат: 

* Появляется сообщение "Неверно указан срок действия карты"
* В БД в payment_entity не появляется новая запись

10. Покупка по кредитной карте с указанием невалидного месяца
* Ввод номера 4444 4444 4444 4441 в поле Номер карты
* Ввод в поле Месяц 13
* Остальные поля заполнены корректными значениями
*   Клик по кнопке *Продолжить*

Ожидаемый результат: 

* Появляется сообщение "Неверно указан срок действия карты"
* В БД в БД в credit_request_entity не появляется новая запись

11. Покупка по дебитовой карте с указанием истекшего месяца
* Ввод номера 4444 4444 4444 4441 в поле Номер карты
* Ввод в поле Месяц значение предыдущего месяца
* Ввод в поле год значение текущего года
* Остальные поля заполнить корректными значениями
*   Клик по кнопке *Продолжить*

Ожидаемый результат:

* Появляется сообщение "Неверно указан срок действия карты"
* В БД в payment_entity не появляется новая запись

12. Покупка по кредитной карте с указанием истекшего месяца
* Ввод номера 4444 4444 4444 4441 в поле Номер карты
* Ввод в поле Месяц значение предыдущего месяца
* Ввод в поле год значение текущего года
* Остальные поля заполнить корректными значениями
*   Клик по кнопке *Продолжить*

Ожидаемый результат:

* Появляется сообщение "Неверно указан срок действия карты"
* В БД в БД в credit_request_entity не появляется новая запись

13. Покупка по дебитовой карте с указанием истекшего года
* Ввод номера 4444 4444 4444 4441 в поле Номер карты
* Ввод в поле год значение предыдущего года
* Остальные поля заполнить корректными значениями
*   Клик по кнопке *Продолжить*

Ожидаемый результат:

* Появляется сообщение "Истек срок действия карты"
* * В БД в payment_entity не появляется новая запись

14. Покупка по кредитной карте с указанием истекшего года
* Ввод номера 4444 4444 4444 4441 в поле Номер карты
* Ввод в поле год значение предыдущего года
* Остальные поля заполнить корректными значениями
*   Клик по кнопке *Продолжить*

Ожидаемый результат:

* Появляется сообщение "Истек срок действия карты"
* В БД в БД в credit_request_entity не появляется новая запись

15. Покупка по дебитовой карте с указанием невалидных значений в поле Владелец

* Ввод номера 4444 4444 4444 4441 в поле Номер карты
* Ввод в поле Владелец невалидных значений (кирилица, специальные знаки)
* Остальные поля заполнить корректными значениями
*   Клик по кнопке *Продолжить*

Ожидаемый результат:

* Появляется сообщение об ошибке заполнения поля
* В БД в payment_entity не появляется новая запись

16. Покупка по кредитной карте с указанием невалидных значений в поле Владелец

* Ввод номера 4444 4444 4444 4441 в поле Номер карты
* Ввод в поле Владелец невалидных значений (кирилица, специальные знаки)
* Остальные поля заполнить корректными значениями
*  Клик по кнопке *Продолжить*

Ожидаемый результат:

* Появляется сообщение об ошибке заполнения поля
* В БД credit_request_entity не появляется новая запись

17. Покупка по дебитовой карте с неполным вводом в поле CVC/CVV

* Ввод номера 4444 4444 4444 4441 в поле Номер карты
* Ввод в поле CVC/CVV 23
* Остальные поля заполнить корректными значениями
*  Клик по кнопке *Продолжить*

Ожидаемый результат:

* Появляется сообщение "Неверный формат"
* В БД в payment_entity не появляется новая запись

18. Покупка по кредитной карте с неполным вводом в поле CVC/CVV

* Ввод номера 4444 4444 4444 4441 в поле Номер карты
* Ввод в поле CVC/CVV 23
* Остальные поля заполнить корректными значениями
*   Клик по кнопке *Продолжить*

Ожидаемый результат:

* Появляется сообщение "Неверный формат"
* В БД credit_request_entity не появляется новая запись

19. Пустая форма заявки для покупки по дебетовой карте

* Оставить все поля формы без заполнения
*   Клик по кнопке *Продолжить*

Ожидаемый результат: 

* Под полями "Номер карты", "Месяц", "Год", "CVC/CVV", "Владелец" появляется сообщение об ошибке "Поле обязательно для заполнения"
* В БД в payment_entity не появляется новая запись

20. Пустая форма заявки для покупки по кредитной карте

* Оставить все поля формы без заполнения
*   Клик по кнопке *Продолжить*

Ожидаемый результат: 

* Под полями "Номер карты", "Месяц", "Год", "CVC/CVV", "Владелец" появляется сообщение об ошибке "Поле обязательно для заполнения"
* В БД credit_request_entity не появляется новая запись

21. Покупка по дебетовой карте при пустом поле Номер карты 

* Оставить поле Номер карты пустым
* Остальные поля заполнить валидными значениями

Ожидаемый результат: 

* Под полем "Номер карты" появляется сообщения об ошибке "Поле обязательно для заполнения"

22. Покупка по кредитной карте при пустом поле Номер карты 

* Оставить поле Номер карты пустым
* Остальные поля заполнить валидными значениями

Ожидаемый результат: 

* Под полем "Номер карты" появляется сообщения об ошибке "Поле обязательно для заполнения"

23. Покупка по дебетовой карте при пустом поле Месяц 

* Оставить поле Месяц пустым
* Остальные поля заполнить валидными значениями

Ожидаемый результат: 

* Под полем "Месяц" появляется сообщения об ошибке "Поле обязательно для заполнения"

24. Покупка по кредитной карте с пустым полем Месяц

* Оставить поле Месяц пустым
* Остальные поля заполнить валидными значениями

Ожидаемый результат: 

* Под полем "Месяц" появляется сообщения об ошибке "Поле обязательно для заполнения"

25. Покупка по дебетовой карте с пустым полем Год

* Оставить поле Год пустым
* Остальные поля заполнить валидными значениями

Ожидаемый результат: 

* Под полем "Год" появляется сообщения об ошибке "Поле обязательно для заполнения"

26. Покупка по кредитной карте с пустым полем Год

* Оставить поле Год пустым
* Остальные поля заполнить валидными значениями

Ожидаемый результат: 

* Под полем "Год" появляется сообщения об ошибке "Поле обязательно для заполнения"

27. Покупка по дебетовой карте с пустым полем Владелец

* Оставить поле Владелец пустым
* Остальные поля заполнить валидными значениями

Ожидаемый результат: 

* Под полем "Владелец" появляется сообщения об ошибке "Поле обязательно для заполнения"

28. Покупка по кредитной карте с пустым полем Владелец

* Оставить поле Владелец пустым
* Остальные поля заполнить валидными значениями

Ожидаемый результат: 

* Под полем "Владелец" появляется сообщения об ошибке "Поле обязательно для заполнения"

29. Покупка по дебетовой карте с пустым полем CVC

* Оставить поле CVC пустым
* Остальные поля заполнить валидными значениями

Ожидаемый результат: 

* Под полем "CVC" появляется сообщения об ошибке "Поле обязательно для заполнения"

30. Покупка по кредитной карте с пустым полем CVC

* Оставить поле CVC пустым
* Остальные поля заполнить валидными значениями

Ожидаемый результат: 

* Под полем "CVC" появляется сообщения об ошибке "Поле обязательно для заполнения"

31. Покупка по дебетовой карте при вводе 000 в поле CVC 

* Ввести 000 в поле CVC
* Остальные поля заполнить валидными значениями

Ожидаемый результат: 

* Под полем "CVC" появляется сообщения об ошибке "Неверный формат"

32. Покупка по кредитной карте при вводе 000 поле CVC 

* Ввести 000 в поле CVC
* Остальные поля заполнить валидными значениями

Ожидаемый результат: 

* Под полем "CVC" появляется сообщения об ошибке "Неверный формат"

33. Покупка по дебетовой карте с вводом 0 в поле Номер карты
* Ввод номера 0000 0000 0000 0000  в поле Номер карты 
* Остальные поля заполнить корректными значениями

Ожидаемый результат:

* Под полем "Номер карты" появляется сообщения об ошибке "Неверный формат"

34. Покупка по кредитной карте с вводом 0 в поле Номер карты
* Ввод номера 0000 0000 0000 0000 в поле Номер карты 
* Остальные поля заполнить корректными значениями

Ожидаемый результат:

* Под полем "Номер карты" появляется сообщения об ошибке "Неверный формат"

35. Покупка по дебетовой карте с вводом 0 в поле Месяц
* Ввод номера 00  в поле Месяц
* Остальные поля заполнить корректными значениями


Ожидаемый результат:
* Под полем "Месяц" появляется сообщение об ошибке "Неверно указан срок действия карты"

36. Покупка по кредитной карте с вводом 0 в поле Месяц
* Ввод номера 00 в поле Месяц 
* Остальные поля заполнить корректными значениями


Ожидаемый результат:
* Под полем "Месяц" появляется сообщение об ошибке "Неверно указан срок действия карты"

37. Покупка по дебетовой карте с вводом 0 в поле Год
* Ввод номера 00  в поле Год
* Остальные поля заполнить корректными значениями

Ожидаемый результат:
* Под полем "Год" повляется сообщение об ошибке "Истёк срок действия карты"

38. Покупка по кредитной карте с вводом 0 в поле Год
* Ввод номера 00 в поле Год
* Остальные поля заполнить корректными значениями

Ожидаемый результат:
* Под полем "Год" повляется сообщение об ошибке "Истёк срок действия карты"

### Валидные значения для заполнения полей по дебитовой и кредитной карте:

* Карты, представленные для тестирования (файл data.json):
4444 4444 4444 4441, status APPROVED
4444 4444 4444 4442, status DECLINED

* Поле Номер карты: 16 числовых симловов, формат **** **** **** ****
* Поле Месяц: 01-12. Если указан текущий год, то предыдущий месяц считать невалидным
* Поле Год: порядковый номер года в формате ** (две последние цифры года). Предыдущий год и ранее считать невалидными
* Поле Владелец: буквенные символы в латинской раскладке
* Поле CVC/CVV: 3 цифровых символа в формате ***


## Перечень используемых инструментов:

* Java - применяемый язык программирования;
* IntelliJ IDEA - программа для написания кода;
* Gradle - система автоматической сборки проектов в IntelliJ IDEA;
* JUnit 5 - среда тестирования на Java;
* Faker - инструмент для генерации пользовательских данных для формы записи;
* Selenium/Selenide - фреймворки для тестирования;
* Allure - фреймворк для создания отчетов о тестировании

## Перечень и описание возможных рисков при автоматизации:

* Возможные изменения в коде страницы, в селекторах;
* Изменения в форме заполнения - добавление элементов, исключение элементов;
* Недоступность сайта, вкладок;
* Неоправданная стоимость автоматизации;
* Недоступность реальной БД и как следствие - возможнео искажение результатов тестов

## Перечень необходимых специалистов для автоматизации:

* Инженер по автоматизированному тестированию

## Интервальная оценка с учётом рисков в часах:

#### Необходимое время на тестирование (с учетом оцененных рисков) = 96 часов; с учетом рисков = 108 часов

* Подготовка окружения, инфраструктуры, развертывание БД - 8 часов;
* Написание автотестов, тестирование и отладка автотестов - 80 часов;
* Формирование и анализ отчетов - 8 часов;

## План сдачи работ:

* Завершение тестирования приложения 15.04.2023
* Отправка отчетной документации 20.04.2023

